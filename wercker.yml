box: wercker/android
# Build definition
build:
  # The steps that will be executed on build
  steps:
    - script:
        name: show environment
        code: |
          export
          cd /home/ubuntu/android-sdk-linux
          expect -f $WERCKER_SOURCE_DIR/android-update.exp "tools,platform-tools,android-19,android-18,android-17,sysimg-19,extra-android-support,extra-android-m2repository,sys-img18"

          android list targets
    # - android-sdk-update:
    #     filter: "platform-tools,android-19,android-18,android-17,sysimg-19,extra-android-support,extra-android-m2repository,sys-img18"
    - setup-android-emulator:
        target: android-18
    - script:
        name: run gradle connectedInstrumentTest
        code: |
          gradle cIT

